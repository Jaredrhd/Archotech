<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logic Gate</title>
</head>

<body onload = "init()">

<noscript>
    <p><b style="color:red">Error: This page requires JavaScript, but it is not available.</b></p>
</noscript>

<!-- Canvas Holder -->
<div id = "canvasDiv_QUESTIONID" style="float:left; border: 2px solid black"></div>

<script class="init">
    function init()
    {
        let manager;
        let moodle = false;
        if(moodle)
        {
            addScript("/question/type/logicgate/js/Gates/LogicGate.js");
            addScript("/question/type/logicgate/js/Gates/Wire.js");
            addScript("/question/type/logicgate/js/Gates/IncomingNode.js");
            addScript("/question/type/logicgate/js/Gates/OutgoingNode.js");
            addScript("/question/type/logicgate/js/Gates/StartGate.js");
            addScript("/question/type/logicgate/js/Gates/EndGate.js");
            addScript("/question/type/logicgate/js/Gates/BufferGate.js");
            addScript("/question/type/logicgate/js/Gates/NotGate.js");
            addScript("/question/type/logicgate/js/Gates/AndGate.js");
            addScript("/question/type/logicgate/js/Gates/NandGate.js");
            addScript("/question/type/logicgate/js/Gates/OrGate.js");
            addScript("/question/type/logicgate/js/Gates/NorGate.js");
            addScript("/question/type/logicgate/js/Gates/XorGate.js");
            addScript("/question/type/logicgate/js/Gates/XnorGate.js");
            addScript("/question/type/logicgate/js/Managers/Input.js");
            addScript("/question/type/logicgate/js/Managers/SelectionManager.js");
            addScript("/question/type/logicgate/js/Managers/Main.js");
            manager = addScript("/question/type/logicgate/js/Managers/Manager.js");
        }
        else
        {
            addScript("Gates/LogicGate.js");
            addScript("Gates/Wire.js");
            addScript("Gates/IncomingNode.js");
            addScript("Gates/OutgoingNode.js");
            addScript("Gates/StartGate.js");
            addScript("Gates/EndGate.js");
            addScript("Gates/BufferGate.js");
            addScript("Gates/NotGate.js");
            addScript("Gates/AndGate.js");
            addScript("Gates/NandGate.js");
            addScript("Gates/OrGate.js");
            addScript("Gates/NorGate.js");
            addScript("Gates/XorGate.js");
            addScript("Gates/XnorGate.js");
            addScript("Managers/Input.js");
            addScript("Managers/SelectionManager.js");
            addScript("Managers/Main.js");
            manager = addScript("Managers/Manager.js");
        }

        //If we added a manager
        if(manager != null)
        {
            //Make sure a manager is loaded
            manager.onload = function()
            {
                let manager = new Manager();
            }
        }

    }

    //adds scripts to the browser but makes sure not too add twice (Throws errors)
    function addScript(url)
    {
        let scripts = document.getElementsByTagName("script");
        for(let i = 0; i < scripts.length; i++)
        {
            if(scripts[i].src === url) 
                return;
        }

        //Create script
        let script = document.createElement("script");
        script.async = false;
        script.src = url;
        document.body.appendChild(script);

        //return the scripts for possible use later
        return script;
    }


</script>
</body>
</html>