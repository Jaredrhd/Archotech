<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logic Gate</title>
</head>

<body onload = "init_QUESTIONID()">

<noscript>
    <p><b style="color:red">Error: This page requires JavaScript, but it is not available.</b></p>
</noscript>
    
<div id = "canvasDiv_QUESTIONID" style="float:left; border: 2px solid black"></div>

<script class="init" functionName = "init_QUESTIONID">
    
    function init_QUESTIONID()
    {
        let manager;
        let moodle = false
        if(moodle)
        {
            addScript("/question/type/logicgate/js/LogicGate.js");
            addScript("/question/type/logicgate/js/AndGate.js");
            addScript("/question/type/logicgate/js/StartGate.js");
            addScript("/question/type/logicgate/js/Main.js");
            manager = addScript("/question/type/logicgate/js/Manager.js");
        }
        else
        {
            addScript("LogicGate.js");
            addScript("AndGate.js");
            addScript("StartGate.js");
            addScript("Main.js");
            manager = addScript("Manager.js");
        }

        //If we added a manager
        if(manager != null)
        {
            //Make sure a manager is loaded
            manager.onload = function()
            {
                let manager = new Manager();
            }
        }

    }

    //adds scripts to the browser but makes sure not too add twice (Throws errors)
    function addScript(url)
    {
        let scripts = document.getElementsByTagName("script");
        for(let i = 0; i < scripts.length; i++)
        {
            if(scripts[i].src === url) 
                return;
        }

        //Create script
        let script = document.createElement("script");
        script.async = false;
        script.src = url;
        document.body.appendChild(script);

        //return the scripts for possible use later
        return script;
    }


</script>
</body>
</html>