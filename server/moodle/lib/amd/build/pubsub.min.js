define(["core/pending"],function(a){var b={},c=function(a,c){b[a]=b[a]||[],b[a].push(c)},d=function(a,c){if(b[a])for(var d=0;d<b[a].length;d++)if(b[a][d]===c){b[a].splice(d,1);break}},e=function(c,d){var e=new a("Publishing "+c);b[c]&&b[c].forEach(function(a){a(d)}),e.resolve()};return{subscribe:c,unsubscribe:d,publish:e}});